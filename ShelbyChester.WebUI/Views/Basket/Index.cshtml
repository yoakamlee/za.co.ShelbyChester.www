@model IEnumerable<ShelbyChester.Core.ViewModels.BasketItemViewModel>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutPageWithTheme.cshtml";
}

<h2>Basket</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
<table class="table">
    <tr>
        <th></th>
        <th>
            @Html.DisplayNameFor(model => model.ContainerName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Quantity)
        </th>

        <th>
            @Html.DisplayNameFor(model => model.ContainerPrice)
        </th>
        <th>
            @*@Html.DisplayNameFor(model => model.Image)*@
            
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
<tr>
    <td>
        <img class="img" src="~/Content/ContainerType/@item.Image"
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.ContainerName)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.Quantity)
    </td>

    <td>
        @String.Format("{0:c}", item.ContainerPrice)
    </td>
        @String.Format("{0:c}", item.ContainerPrice * item.Quantity)
<td>
    @*@Html.ActionLink("Edit", "Edit", new { id = item.Id }) |
        @Html.ActionLink("Details", "Details", new { id = item.Id }) |*@
    <a href="@Url.Action("RemoveFromBasket","Basket", new {Id = item.Id})" class="btn btn-danger">Cancel</a>
</td>
</tr>
}
    <tr>
        <td colspan="4"style="text-align:right">
            <strong>Basket Total</strong>
        </td>
        <td>@String.Format("{0:c}", (from c in Model select c.ContainerPrice * c.Quantity).Sum())</td>
    </tr>
</table>
